(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{376:function(s,a,t){s.exports=t.p+"assets/img/image-20201223111930745.dca5574b.png"},391:function(s,a,t){"use strict";t.r(a);var e=t(45),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"搭建代理服务器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#搭建代理服务器"}},[s._v("#")]),s._v(" 搭建代理服务器")]),s._v(" "),e("p",[s._v("因为公司为了所谓的网络完全，将很多网站都进行了屏蔽，包括我常用的网易云。天天没得歌听很烦躁，正巧手里有个腾讯云服务器，所以决定搭个代理服务器来绕开公司的墙。")]),s._v(" "),e("h2",{attrs:{id:"准备工作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[s._v("#")]),s._v(" 准备工作")]),s._v(" "),e("ul",[e("li",[s._v("云服务器一台")])]),s._v(" "),e("h2",{attrs:{id:"服务器安装-shadowsocks-libev"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务器安装-shadowsocks-libev"}},[s._v("#")]),s._v(" 服务器安装 shadowsocks-libev")]),s._v(" "),e("p",[s._v("这是一个服务器的代理软件，详细文档可以看"),e("a",{attrs:{href:"https://github.com/shadowsocks/shadowsocks-libev/blob/master/docker/alpine/README.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("shadowsocks-libev"),e("OutboundLink")],1)]),s._v(" "),e("h3",{attrs:{id:"安装镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装镜像"}},[s._v("#")]),s._v(" 安装镜像")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker pull shadowsocks/shadowsocks-libev\n")])])]),e("h3",{attrs:{id:"运行服务器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行服务器"}},[s._v("#")]),s._v(" 运行服务器")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker run -e "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSWORD")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("9MLSpPmNt -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8388")]),s._v(":8388 -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8388")]),s._v(":8388/udp -d --restart always shadowsocks/shadowsocks-libev\n")])])]),e("blockquote",[e("p",[s._v("⚠️   出现IPv4 forwarding is disabled. Networking will not work")])]),s._v(" "),e("p",[e("img",{attrs:{src:t(376),alt:"image-20201223111930745"}})]),s._v(" "),e("ul",[e("li",[s._v("首先，打开配置文件")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/sysctl.conf\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /usr/lib/sysctl.d/00-system.conf \n")])])]),e("ul",[e("li",[s._v("添加或修改配置")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("net.ipv4.ip_forward"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" \n")])])]),e("ul",[e("li",[s._v("重启服务")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("systemctl restart network  \n")])])]),e("blockquote",[e("p",[s._v("⚠️   腾讯云可能会重启服务失败，我的方案是直接重启服务器:(")])]),s._v(" "),e("ul",[e("li",[s._v("查看是否重启成功")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("sysctl net.ipv4.ip_forward  \n")])])]),e("p",[s._v("如果返回为“net.ipv4.ip_forward = 1”则表示成功了 重启容器即可。")]),s._v(" "),e("h4",{attrs:{id:"也可以使用docker-componse"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#也可以使用docker-componse"}},[s._v("#")]),s._v(" 也可以使用docker-componse")]),s._v(" "),e("p",[s._v("配置docker-componse.yml")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("shadowsocks:\n  image: shadowsocks/shadowsocks-libev\n  ports:\n    - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8388:8388"')]),s._v("\n  environment:\n    - "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("METHOD")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("aes-256-gcm\n    - "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSWORD")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("9MLSpPmNt\n  restart: always\n")])])]),e("h4",{attrs:{id:""}},[e("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])]),s._v(" "),e("h2",{attrs:{id:"客户端安装shadowsocks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#客户端安装shadowsocks"}},[s._v("#")]),s._v(" 客户端安装shadowsocks")]),s._v(" "),e("p",[s._v("github搜索shadowsocks下载软件即可")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/shadowsocks/ShadowsocksX-NG/releases/tag/v1.9.4",target:"_blank",rel:"noopener noreferrer"}},[s._v("mac"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/shadowsocks/shadowsocks-android/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("android"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/shadowsocks/shadowsocks-windows/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("windows"),e("OutboundLink")],1)])]),s._v(" "),e("blockquote",[e("p",[s._v("⚠️  ios​在github上没找到，可以去外区商店找对应软件")])]),s._v(" "),e("h3",{attrs:{id:"配置shadowsocks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置shadowsocks"}},[s._v("#")]),s._v(" 配置shadowsocks")]),s._v(" "),e("p",[s._v("安装完成后在软件中添加服务器，配置对应的数据就行")]),s._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"server"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"your-vps-ip"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 服务器ip")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"server_port"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8388")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 服务器端口号")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"local_address"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.0.0.0"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"local_port"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1080")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"password"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"9MLSpPmNt"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 服务器shadowsocks-libev配置的密码")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"timeout"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 超时时间")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"method"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"aes-256-gcm"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 加密方式，跟服务器配置的一致，默认为aes-256-gcm")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),e("h2",{attrs:{id:"使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),e("p",[s._v("打开shadowsocks即可")]),s._v(" "),e("ul",[e("li",[s._v("全局模式")])]),s._v(" "),e("blockquote",[e("p",[s._v("将会代理所以的请求，自测可用")])]),s._v(" "),e("ul",[e("li",[s._v("pac模式")])]),s._v(" "),e("blockquote",[e("p",[s._v("只会代理配置的路径请求")]),s._v(" "),e("p",[s._v("⚠️  我的pac还没整明白，目前使用不了这种方式，有知道的大佬希望能告知一下")])])])}),[],!1,null,null,null);a.default=r.exports}}]);